# ğŸ¤– LLMä¸AIæœåŠ¡æ–‡æ¡£

æœ¬ç›®å½•åŒ…å«é¡¹ç›®ä¸­LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰å’ŒAIæœåŠ¡ç›¸å…³çš„æ‰€æœ‰é…ç½®å’Œä½¿ç”¨æ–‡æ¡£ã€‚

## ğŸ“ ç›®å½•å†…å®¹

```
docs/llm/
â”œâ”€â”€ llm-configuration-guide.md      # LLMé…ç½®æŒ‡å— â­â­â­â­â­
â”œâ”€â”€ llm-providers-architecture.md   # LLMæä¾›å•†æ¶æ„ â­â­â­â­â­
â”œâ”€â”€ llm-usage-examples.md           # LLMä½¿ç”¨ç¤ºä¾‹ â­â­â­â­â­
â”œâ”€â”€ vertex-ai-setup-guide.md        # Vertex AIè®¾ç½®æŒ‡å— â­â­â­â­
â”œâ”€â”€ prompt-validation-guide.md      # PromptéªŒè¯æŒ‡å— â­â­â­â­
â”œâ”€â”€ PORT_CONFIG_GUIDE.md            # ç«¯å£é…ç½®æŒ‡å— â­â­â­
â””â”€â”€ README.md                       # æœ¬è¯´æ˜æ–‡æ¡£
```

## ğŸ“‹ æ–‡æ¡£è¯´æ˜

### æ ¸å¿ƒLLMæ–‡æ¡£

#### `llm-configuration-guide.md` â­â­â­â­â­
LLMæœåŠ¡é…ç½®è¯¦ç»†æŒ‡å—ï¼ŒåŒ…å«ï¼š
- ğŸ¤– æ”¯æŒçš„LLMæä¾›å•†é…ç½®
- ğŸ”§ APIå¯†é’¥ç®¡ç†
- âš™ï¸ æ¨¡å‹å‚æ•°è°ƒä¼˜
- ğŸš€ æ€§èƒ½ä¼˜åŒ–é…ç½®

**é‡è¦æ€§**: â­â­â­â­â­ (æ ¸å¿ƒé…ç½®æ–‡æ¡£)

#### `llm-providers-architecture.md` â­â­â­â­â­
LLMæä¾›å•†æ¶æ„è®¾è®¡æ–‡æ¡£ï¼ŒåŒ…å«ï¼š
- ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡
- ğŸ”„ æä¾›å•†åˆ‡æ¢æœºåˆ¶
- ğŸ“Š è´Ÿè½½å‡è¡¡ç­–ç•¥
- ğŸ›¡ï¸ æ•…éšœè½¬ç§»æ–¹æ¡ˆ

**é‡è¦æ€§**: â­â­â­â­â­ (æ¶æ„è®¾è®¡æ–‡æ¡£)

#### `llm-usage-examples.md` â­â­â­â­â­
LLMä½¿ç”¨ç¤ºä¾‹å’Œæœ€ä½³å®è·µï¼ŒåŒ…å«ï¼š
- ğŸ’¬ å¯¹è¯ç¤ºä¾‹
- ğŸ“ Promptå·¥ç¨‹æŠ€å·§
- ğŸ¯ ç”¨ä¾‹åœºæ™¯æ¼”ç¤º
- ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

**é‡è¦æ€§**: â­â­â­â­â­ (ä½¿ç”¨æŒ‡å—)

### ä¸“é¡¹æœåŠ¡æ–‡æ¡£

#### `vertex-ai-setup-guide.md` â­â­â­â­
Google Vertex AIé›†æˆè®¾ç½®æŒ‡å—ã€‚

**å†…å®¹**:
- ğŸ”§ Vertex AIé¡¹ç›®è®¾ç½®
- ğŸ”‘ è®¤è¯é…ç½®
- ğŸ¯ æ¨¡å‹é€‰æ‹©å’Œé…ç½®
- ğŸ“Š ä½¿ç”¨é‡ç›‘æ§

**é‡è¦æ€§**: â­â­â­â­ (ä¸“é¡¹æœåŠ¡)

#### `prompt-validation-guide.md` â­â­â­â­
PromptéªŒè¯å’Œä¼˜åŒ–æŒ‡å—ã€‚

**å†…å®¹**:
- âœ… Promptè´¨é‡æ£€æŸ¥
- ğŸ” éªŒè¯è§„åˆ™å’Œæ ‡å‡†
- ğŸ“ é•¿åº¦å’Œæ ¼å¼é™åˆ¶
- ğŸ¨ ä¼˜åŒ–å»ºè®®

**é‡è¦æ€§**: â­â­â­â­ (è´¨é‡ä¿è¯)

#### `PORT_CONFIG_GUIDE.md` â­â­â­
ç«¯å£é…ç½®å’Œç½‘ç»œè®¾ç½®æŒ‡å—ã€‚

**å†…å®¹**:
- ğŸŒ ç«¯å£åˆ†é…ç­–ç•¥
- ğŸ”’ å®‰å…¨é…ç½®
- ğŸ“¡ ç½‘ç»œä¼˜åŒ–
- ğŸšª é˜²ç«å¢™è®¾ç½®

**é‡è¦æ€§**: â­â­â­ (åŸºç¡€é…ç½®)

## ğŸš€ LLMé›†æˆæŒ‡å—

### 1. é€‰æ‹©LLMæä¾›å•†

#### æ”¯æŒçš„æä¾›å•†
- **OpenAI**: GPT-4, GPT-3.5-turbo
- **Google**: Vertex AI, PaLM
- **Anthropic**: Claude
- **æœ¬åœ°éƒ¨ç½²**: Ollama, LM Studio

#### é…ç½®ç¤ºä¾‹
```typescript
// OpenAIé…ç½®
const openaiConfig = {
  apiKey: process.env.OPENAI_API_KEY,
  model: 'gpt-4',
  temperature: 0.7,
  maxTokens: 2000
};

// Vertex AIé…ç½®
const vertexConfig = {
  projectId: process.env.GOOGLE_PROJECT_ID,
  location: 'us-central1',
  model: 'text-bison'
};
```

### 2. Promptå·¥ç¨‹

#### åŸºç¡€Promptç»“æ„
```javascript
const systemPrompt = `ä½ æ˜¯ä¸“ä¸šçš„AIåŠ©æ‰‹ï¼Œè¯·ï¼š
1. æä¾›å‡†ç¡®ã€æœ‰ç”¨çš„å›ç­”
2. ä½¿ç”¨æ¸…æ™°çš„ç»“æ„åŒ–æ ¼å¼
3. ä¿æŒå‹å¥½å’Œä¸“ä¸šçš„è¯­æ°”`;

const userPrompt = `è¯·åˆ†æä»¥ä¸‹æ•°æ®ï¼š\n${data}`;
```

#### é«˜çº§æŠ€å·§
```javascript
// å°‘æ ·æœ¬å­¦ä¹ 
const fewShotPrompt = `
ç¤ºä¾‹1:
è¾“å…¥: "ä½ å¥½"
è¾“å‡º: "ä½ å¥½ï¼å¾ˆé«˜å…´ä¸ºæ‚¨æœåŠ¡ã€‚"

ç¤ºä¾‹2:
è¾“å…¥: "å¸®æˆ‘å†™ä»£ç "
è¾“å‡º: "å½“ç„¶å¯ä»¥ï¼è¯·å‘Šè¯‰æˆ‘æ‚¨éœ€è¦ä»€ä¹ˆç±»å‹çš„ä»£ç ã€‚"

ç°åœ¨è¯·å›ç­”: ${userInput}
`;

// æ€ç»´é“¾æ¨ç†
const chainOfThoughtPrompt = `
è¯·é€æ­¥åˆ†æä»¥ä¸‹é—®é¢˜:
1. ç†è§£é—®é¢˜èƒŒæ™¯
2. åˆ†æå…³é”®ä¿¡æ¯
3. æä¾›è§£å†³æ–¹æ¡ˆ
4. éªŒè¯ç­”æ¡ˆåˆç†æ€§

é—®é¢˜: ${question}
`;
```

### 3. æ¨¡å‹è°ƒä¼˜

#### å‚æ•°é…ç½®
```typescript
const modelConfig = {
  // æ¸©åº¦æ§åˆ¶åˆ›é€ æ€§ (0.0-2.0)
  temperature: 0.7,

  // æœ€å¤§è¾“å‡ºé•¿åº¦
  maxTokens: 1500,

  // å¤šæ ·æ€§æ§åˆ¶
  topP: 0.9,

  // é‡å¤æƒ©ç½š
  frequencyPenalty: 0.5,

  // å­˜åœ¨æƒ©ç½š
  presencePenalty: 0.3
};
```

#### æ€§èƒ½ä¼˜åŒ–
```typescript
// ç¼“å­˜é…ç½®
const cacheConfig = {
  enableCache: true,
  cacheTimeout: 3600000, // 1å°æ—¶
  cacheKeyStrategy: 'semantic' // è¯­ä¹‰ç¼“å­˜
};

// æ‰¹é‡å¤„ç†
const batchConfig = {
  maxBatchSize: 10,
  timeout: 30000,
  retryAttempts: 3
};
```

## ğŸ“Š ä½¿ç”¨ç›‘æ§

### æŒ‡æ ‡ç›‘æ§
```typescript
// å“åº”æ—¶é—´ç›‘æ§
const metrics = {
  responseTime: measureResponseTime(),
  tokenUsage: trackTokenConsumption(),
  errorRate: calculateErrorRate(),
  costPerRequest: calculateCost()
};
```

### æ—¥å¿—è®°å½•
```typescript
// ç»“æ„åŒ–æ—¥å¿—
const logEntry = {
  timestamp: new Date().toISOString(),
  provider: 'openai',
  model: 'gpt-4',
  tokens: {
    prompt: 150,
    completion: 200,
    total: 350
  },
  cost: 0.015,
  duration: 1200,
  status: 'success'
};
```

## ğŸ”’ å®‰å…¨é…ç½®

### APIå¯†é’¥ç®¡ç†
```bash
# ç¯å¢ƒå˜é‡è®¾ç½®
export OPENAI_API_KEY="sk-your-secret-key"
export GOOGLE_API_KEY="your-google-api-key"

# å¯†é’¥è½®æ¢
# 1. ç”Ÿæˆæ–°å¯†é’¥
# 2. æ›´æ–°ç¯å¢ƒå˜é‡
# 3. é‡å¯æœåŠ¡
# 4. éªŒè¯åŠŸèƒ½
# 5. åˆ é™¤æ—§å¯†é’¥
```

### è¯·æ±‚é™åˆ¶
```typescript
const rateLimitConfig = {
  requestsPerMinute: 60,
  requestsPerHour: 1000,
  burstLimit: 10,
  backoffStrategy: 'exponential'
};
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **APIå¯†é’¥æ— æ•ˆ**
   ```bash
   # æ£€æŸ¥å¯†é’¥æ ¼å¼
   echo $OPENAI_API_KEY | head -c 10

   # æµ‹è¯•APIè¿æ¥
   curl -H "Authorization: Bearer $OPENAI_API_KEY" \
        https://api.openai.com/v1/models
   ```

2. **æ¨¡å‹è°ƒç”¨å¤±è´¥**
   ```bash
   # æ£€æŸ¥ç½‘ç»œè¿æ¥
   curl -I https://api.openai.com

   # æŸ¥çœ‹é”™è¯¯æ—¥å¿—
   tail -f logs/llm-errors.log
   ```

3. **å“åº”è¶…æ—¶**
   ```typescript
   // è°ƒæ•´è¶…æ—¶è®¾ç½®
   const config = {
     timeout: 60000, // 60ç§’
     retryDelay: 1000,
     maxRetries: 3
   };
   ```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### ç¼“å­˜ç­–ç•¥
```typescript
// å¤šçº§ç¼“å­˜
const cacheStrategy = {
  memoryCache: {
    ttl: 300000, // 5åˆ†é’Ÿ
    maxSize: 1000
  },
  redisCache: {
    ttl: 3600000, // 1å°æ—¶
    prefix: 'llm:'
  },
  semanticCache: {
    similarityThreshold: 0.85,
    embeddingModel: 'text-embedding-ada-002'
  }
};
```

### è´Ÿè½½å‡è¡¡
```typescript
// å¤šæä¾›å•†è´Ÿè½½å‡è¡¡
const loadBalancer = {
  providers: ['openai', 'anthropic', 'google'],
  strategy: 'round-robin',
  healthCheck: {
    interval: 30000,
    timeout: 5000,
    retries: 3
  }
};
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [é¡¹ç›®é…ç½®](../../config/README.md)
- [ç¯å¢ƒé…ç½®](../env/README.md)
- [APIæ–‡æ¡£](../../docs/new-webhook-api-guide.md)
- [éƒ¨ç½²æŒ‡å—](../deployment/DEPLOYMENT_GUIDE.md)

## ğŸ”— å¤–éƒ¨èµ„æº

- [OpenAI APIæ–‡æ¡£](https://platform.openai.com/docs)
- [Google Vertex AI](https://cloud.google.com/vertex-ai)
- [Anthropic Claude](https://docs.anthropic.com/)
- [Prompt Engineering Guide](https://www.promptingguide.ai/)

---

**æœ€åæ›´æ–°**: 2025å¹´1æœˆ
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ
